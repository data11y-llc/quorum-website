@use "../../foundations/colors/colors.scss" as *;


$slider-theme:(
  light: (
  //slider
    fill-color: map-get($colors, quorum, blue, 50),
    track-color: map-get($colors, neutral, grey, 50),
    thumb-color: map-get($colors, quorum, blue, 100),
    //value-display
    background-color: map-get($colors, neutral, grey, 15),
    color: map-get($colors, neutral, black),
  ),
  dark: (
  //slider
    fill-color: map-get($colors, quorum, blue, 50),
    track-color: map-get($colors, neutral, grey, 40),
    thumb-color: map-get($colors, quorum, blue, 50),
    //value-display
    background-color: map-get($colors, neutral, grey, 65),
    color: map-get($colors, neutral, white),
  ),
  high-contrast: (
  //slider
    fill-color: map-get($colors, text, hico, blue),
    track-color: map-get($colors, neutral, grey, 85),
    thumb-color: map-get($colors, neutral, white),
    //value-display
    background-color: map-get($colors, neutral, white),
    color: map-get($colors, neutral, black),
  ),

);

@each $theme, $properties in $slider-theme {
  .#{$theme}-mode {
    .range-slider {
      &::-webkit-slider-runnable-track {
        background: linear-gradient(to right, map-get($properties, fill-color) 0%, map-get($properties, fill-color) var(--value-percent), map-get($properties, track-color) var(--value-percent), map-get($properties, track-color) 100%);
      }

      &::-moz-range-track {
        background: linear-gradient(to right, map-get($properties, fill-color) 0%, map-get($properties, fill-color) var(--value-percent), map-get($properties, track-color) var(--value-percent), map-get($properties, track-color) 100%);
      }

      &::-ms-track {
        background: linear-gradient(to right, map-get($properties, fill-color) 0%, map-get($properties, fill-color) var(--value-percent), map-get($properties, track-color) var(--value-percent), map-get($properties, track-color) 100%);
      }

      &::-webkit-slider-thumb {
        background-color: map-get($properties, thumb-color);
      }

      &::-moz-range-thumb {
        background-color: map-get($properties, thumb-color);
      }

      &::-ms-thumb {
        background-color: map-get($properties, thumb-color);
      }
    }

    .value-display {
      background-color: map-get($properties, background-color);
      color: map-get($properties, color);
    }
  }
}

.slider-container {
  width: 100%;
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: flex-start; // Added to center the track
}

.range-slider {
  width: 100%;
  -webkit-appearance: none;
  appearance: none;
  background-color: transparent;
  margin: 0;
  padding: 0;
  cursor: pointer;
  height: 20px;

  &::-webkit-slider-runnable-track {
    width: 100%;
    height: 8px;
    background-color: #ccc;
    border-radius: 5px;
  }

  &::-moz-range-track {
    width: 100%;
    height: 8px;
    background-color: #ccc;
    border-radius: 5px;
  }

  &::-ms-track {
    width: 100%;
    height: 8px;
    background-color: #ccc;
    border-radius: 5px;
  }

  &::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 16px;
    height: 16px;
    background-color: #007bff;
    border-radius: 50%;
    cursor: pointer;
    margin-top: -4px;
    transition: background-color 0.2s;
  }

  &::-moz-range-thumb {
    width: 16px;
    height: 16px;
    background-color: #007bff;
    border-radius: 50%;
    cursor: pointer;
    transition: background-color 0.2s;
  }

  &::-ms-thumb {
    width: 16px;
    height: 16px;
    background-color: #007bff;
    border-radius: 50%;
    cursor: pointer;
    transition: background-color 0.2s;
  }
}

.value-display {
  display: inline-block;
  border-radius: 8px;
  padding: 8px;
  box-sizing: border-box;
  margin-left: 4px;
  font-weight: bold;
  line-height: 1;
  width: 4em;
  text-align: center;
}
